{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/ben/prj/okcai/Chat.tsx\";\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { GiftedChat } from 'react-native-gifted-chat';\nimport Fire from \"./Fire\";\n\nvar Chat = function (_Component) {\n  _inherits(Chat, _Component);\n\n  function Chat() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Chat)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      messages: []\n    };\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(GiftedChat, {\n        messages: this.state.messages,\n        onSend: Fire.shared.send,\n        user: this.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Fire.shared.on(function (message) {\n        return _this2.setState(function (previousState) {\n          return {\n            messages: GiftedChat.append(previousState.messages, message)\n          };\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Fire.shared.off();\n    }\n  }, {\n    key: \"user\",\n    get: function get() {\n      return {\n        name: this.props.navigation.state.params.name,\n        _id: Fire.shared.uid\n      };\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nChat.navigationOptions = function (_ref) {\n  var navigation = _ref.navigation;\n  return {\n    title: (navigation.state.params || {}).name || 'Chat!'\n  };\n};\n\nvar styles = StyleSheet.create({});\nexport default Chat;","map":{"version":3,"sources":["/Users/ben/prj/okcai/Chat.tsx"],"names":["React","Component","GiftedChat","Fire","Chat","state","messages","shared","send","user","on","message","setState","previousState","append","off","name","props","navigation","params","_id","uid","navigationOptions","title","styles","StyleSheet","create"],"mappings":";;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAGA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP;;IAGMC,I;;;;;;;;;;;;;;;UAMJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE;AADJ,K;;;;;;6BAIC;AACP,aACE,oBAAC,UAAD;AACE,QAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QADvB;AAEE,QAAA,MAAM,EAAEH,IAAI,CAACI,MAAL,CAAYC,IAFtB;AAGE,QAAA,IAAI,EAAE,KAAKC,IAHb;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD;;;wCAEiB;AAAA;;AAChBN,MAAAA,IAAI,CAACI,MAAL,CAAYG,EAAZ,CAAe,UAAAC,OAAO;AAAA,eACpB,MAAI,CAACC,QAAL,CAAc,UAAAC,aAAa;AAAA,iBAAK;AAC9BP,YAAAA,QAAQ,EAAEJ,UAAU,CAACY,MAAX,CAAkBD,aAAa,CAACP,QAAhC,EAA0CK,OAA1C;AADoB,WAAL;AAAA,SAA3B,CADoB;AAAA,OAAtB;AAKH;;;2CAEsB;AACrBR,MAAAA,IAAI,CAACI,MAAL,CAAYQ,GAAZ;AACD;;;wBACU;AAEP,aAAO;AACLC,QAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,UAAX,CAAsBb,KAAtB,CAA4Bc,MAA5B,CAAmCH,IADpC;AAELI,QAAAA,GAAG,EAAEjB,IAAI,CAACI,MAAL,CAAYc;AAFZ,OAAP;AAID;;;;EArCgBpB,S;;AAAbG,I,CAEGkB,iB,GAAoB;AAAA,MAAGJ,UAAH,QAAGA,UAAH;AAAA,SAAqB;AAC9CK,IAAAA,KAAK,EAAE,CAACL,UAAU,CAACb,KAAX,CAAiBc,MAAjB,IAA2B,EAA5B,EAAgCH,IAAhC,IAAwC;AADD,GAArB;AAAA,C;;AAqC7B,IAAMQ,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB,EAAlB,CAAf;AACA,eAAetB,IAAf","sourcesContent":["\nimport React, { Component } from 'react';\n\nimport { View, StyleSheet } from 'react-native';\nimport { GiftedChat } from 'react-native-gifted-chat';\nimport Fire from './Fire';\n\n\nclass Chat extends Component {\n      // 2.\n  static navigationOptions = ({ navigation }) => ({\n    title: (navigation.state.params || {}).name || 'Chat!',\n  });\n  // 3.\n  state = {\n    messages: [],\n  };\n \n  render() {\n    return (\n      <GiftedChat\n        messages={this.state.messages}\n        onSend={Fire.shared.send}\n        user={this.user}\n      />\n    );\n  }\n\ncomponentDidMount() {\n    Fire.shared.on(message =>\n      this.setState(previousState => ({\n        messages: GiftedChat.append(previousState.messages, message),\n      }))\n    );\n}\n// 2.\ncomponentWillUnmount() {\n  Fire.shared.off();\n}\nget user() {\n    // Return our name and our UID for GiftedChat to parse\n    return {\n      name: this.props.navigation.state.params.name,\n      _id: Fire.shared.uid,\n    };\n  }\n}\nconst styles = StyleSheet.create({});\nexport default Chat;"]},"metadata":{},"sourceType":"module"}